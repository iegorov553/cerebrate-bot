#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∫–æ–º–º–∏—Ç–∞ —Å –ø—Ä–æ–ø—É—Å–∫–æ–º –ø—Ä–æ–≤–µ—Ä–æ–∫ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

echo "‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –ö–æ–º–º–∏—Ç —Å –ø—Ä–æ–ø—É—Å–∫–æ–º –ø—Ä–æ–≤–µ—Ä–æ–∫ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞"
echo "üîß –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤ –∫–æ–º–º–∏—Ç–µ –µ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
if [ -z "$1" ]; then
    echo "‚ùå –û—à–∏–±–∫–∞: –ù–µ —É–∫–∞–∑–∞–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞"
    echo "üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./commit_with_legacy_issues.sh '—Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞'"
    exit 1
fi

# –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add -A

# –ö–æ–º–º–∏—Ç–∏–º —Å –ø—Ä–æ–ø—É—Å–∫–æ–º pre-commit —Ö—É–∫–∞
git commit --no-verify -m "$(cat <<EOF
$1

‚ö†Ô∏è  LEGACY COMMIT: –í—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ–ø—É—â–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
–≠—Ç–æ—Ç –∫–æ–º–º–∏—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º.
–ü—Ä–æ–≤–µ—Ä–∫–∏ –±—É–¥—É—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

ü§ñ Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>
EOF
)"

echo "‚úÖ –ö–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω —Å –ø—Ä–æ–ø—É—Å–∫–æ–º –ø—Ä–æ–≤–µ—Ä–æ–∫"
echo "üö® –ù–ï –ó–ê–ë–£–î–¨–¢–ï –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–µ—Ä–µ–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π hook'–∞!"